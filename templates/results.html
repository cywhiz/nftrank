<!DOCTYPE html>
<html lang="en">

<head>
    <title>Eventstar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords"
        content="eventstar, goldstar, events, listings, tickets, deals, concerts, music, entertainment, discounts, free, comps, sports, nightlife, comedy">
    <meta name="description" content="Find awesome discounted and free concerts, entertainment, and events in the US">
    <link rel="icon" href="/static/img/favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.10.22/fh-3.1.7/r-2.2.6/datatables.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/redmond/jquery-ui.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="/static/css/results.css">
</head>

<body>
    <div id="container">
        
        <table id="results" class="table compact stripe hover">
            <thead>
                <tr class="tableheader">
                    <th width="20%">Rank</th>
                    <th width="20%">Title</th>
                    <th width="20%">Img</th>
                    <th width="10%">Details</th>
                    <th width="10%">Buy</th>
                    <th width="20%">Price</th>
                </tr>
            </thead>
            <tbody>
                {% for i in items %}
                <tr>
                    <td>{{ i.rank }}</td>
                    <td>{{ i.title }}</td>
                    <td><img class="item" src="{{ i.image }}"></td>
                    <td><a href="{{ i.details }}">Details</a></td>
                    <td><a href="{{ i.buy }}">Buy</a></td>
                    <td>{{ i.price }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/dt-1.10.22/fh-3.1.7/r-2.2.6/datatables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
    <script>
        // $(function () {
        //     $('#btnGo').on('click', function () {
        //         $('#cityName').val($('#city').find('option:selected').text());
        //         $('#form').submit();
        //     });
        //     $('#startDate').datepicker({
        //         dateFormat: 'yy-mm-dd',
        //         minDate: '0',
        //         onClose: function (selectedDate) {
        //             $("#endDate").datepicker("option", "minDate", selectedDate);
        //         }
        //     });
        //     $('#endDate').datepicker({
        //         dateFormat: 'yy-mm-dd'
        //     });
        //     $('#city').on("keyup change blur focus", function () {
        //         $('#btnGo').prop("disabled", this.value === "" ? true : false);
        //     });
        //     $('.fancybox').fancybox();

        //     jQuery.fn.dataTableExt.oSort['price-asc'] = function (a, b) {
        //         // Remove spaces and dollar signs, then separate the values
        //         x = a.replace(/[\s\$]+/g, '').split("-");
        //         y = b.replace(/[\s\$]+/g, '').split("-");

        //         // Convert the values to float
        //         x0 = parseFloat(x[0]) || 0;
        //         x1 = parseFloat(x[1]) || 0;
        //         y0 = parseFloat(y[0]) || 0;
        //         y1 = parseFloat(y[1]) || 0;

        //         // Compare the first number of each group
        //         if (x0 < y0) {
        //             return -1;
        //         }
        //         else if (x0 > y0) {
        //             return 1;
        //         }
        //         // Compare the second number of each group
        //         else {
        //             if (x1 < y1) {
        //                 return -1;
        //             }
        //             else if (x1 > y1) {
        //                 return 1;
        //             }
        //             else {
        //                 return 0;
        //             }
        //         }
        //     };

        //     jQuery.fn.dataTableExt.oSort['price-desc'] = function (a, b) {
        //         x = a.replace(/[\s\$]+/g, '').split("-");
        //         y = b.replace(/[\s\$]+/g, '').split("-");

        //         x0 = parseFloat(x[0]) || 0;
        //         x1 = parseFloat(x[1]) || 0;
        //         y0 = parseFloat(y[0]) || 0;
        //         y1 = parseFloat(y[1]) || 0;

        //         if (x0 < y0) {
        //             return 1;
        //         }
        //         else if (x0 > y0) {
        //             return -1;
        //         }
        //         else {
        //             if (x1 < y1) {
        //                 return 1;
        //             }
        //             else if (x1 > y1) {
        //                 return -1;
        //             }
        //             else {
        //                 return 0;
        //             }
        //         }
        //     };

        //     $('#results').DataTable({
        //         fixedHeader: true,
        //         iDisplayLength: 20,
        //         responsive: true,
        //         "dom": '<"top"if>t<"bottom"p>',
        //         "language": {
        //             "info": "_TOTAL_ events"
        //         },
        //         "order": [
        //             [2, "asc"]
        //         ],
        //         columnDefs: [
        //             { type: 'price', targets: 2 }
        //         ]
        //     });
        // });
    </script>
</body>